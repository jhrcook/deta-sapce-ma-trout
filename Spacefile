# Spacefile Docs: <https://go.deta.dev/docs/spacefile/v0>

v: 0
micros:
  - name: data-scraping
    src: .
    engine: custom
    dev: cargo run
    include:
      - ./target/x86_64-unknown-linux-musl/release/trout_scraping_server
    commands:
      - echo "Executable built on GitHub Action"
      - pwd
      - ls -lha
    run: ./target/x86_64-unknown-linux-musl/release/trout_scraping_server
    actions:
      - id: "scrape-new-data"
        name: "Scrape new data"
        description: "Collects new data and saves it to Deta Base."
        trigger: "schedule"
        default_interval: "0 */2 * * *"
